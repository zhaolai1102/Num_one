<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<title>React生命周期</title>
	<!-- 引入react16 -->
	<script src="https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"></script>
	<script src="https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"></script>
	<!-- Babel 是一个工具链，主要用于将 ECMAScript 2015+ 版本的代码转换为向后兼容的 JavaScript 语法，以便能够运行在当前和旧版本的浏览器或其他环境中。Babel 能够转换 JSX 语法！-->
	<!-- 生产环境中不建议使用 -->
	<script src="https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"></script>
</head>
<body>
	<div id="example"></div>

	<script type="text/babel">
		class Clock extends React.Component {
			constructor(props) {
				super(props)
				this.state = {
					date:new Date()
				}
			}
			componentDidMount() {
				this.timer = setInterval(() => {
					this.setState({
						date:new Date()
					})
				}, 1000);
			}
			componentDidUpdate(currentProps,currentState) {
				console.log(currentState)
			}
			componentWillUnmout() {
				clearInterval(this.timer)
			}
			render() {
				return (
					<h1>{this.state.date.toLocaleTimeString()}</h1>
				)
			}
		}


		ReactDOM.render(
		<Clock/>,
		document.getElementById('example')
		);
	</script>

</body>
</html>