<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Image Gallery</title>
	<link rel="stylesheet" type="text/css" href="layout.css?1" media="screen">
</head>
<body>
<h1>Snapshots</h1>
<ul id="imagegallery">
	<li>
		<a href="images/1111.jpg" title="AAA.jpg" onclick="return showPic2(this)">Fireworks</a>
	</li>
	<li>
		<a href="images/222.jpg" title="BBB.jpg" onclick="return showPic2(this)">coffee</a>
	</li>
	<li>
		<a href="images/333.jpg" title="CCC.jpg" onclick="return showPic2(this)">rose</a>
	</li>
	<li>
		<a href="images/444.jpg" title="DDD.jpg" onclick="return showPic2(this)">bigben</a>
	</li>
</ul>
<img id="placeholder" src="" alt="my image gallery">
<p id="description">Choose an image.</p>
</body>
<script>
  var body_element = document.getElementsByTagName("body")[0];
  var body_childNodes = body_element.childNodes;
  console.dir(body_childNodes.length);
  console.dir(body_element.nodeType);
  for(var i in body_childNodes) {
  	var type = body_childNodes[i].nodeType;
  	if(type == 1) {
  		console.dir(body_childNodes[i]);
  	}
  }

  function showPic(whichpic) {
  	var source = whichpic.getAttribute("href");
  	var title = whichpic.getAttribute("title");
  	var placeholder = document.getElementById("placeholder");
  	placeholder.setAttribute("src", source);
  	var desc = placeholder.nextSibling.nextSibling;
  	desc.firstChild.nodeValue = title;
  }

  function addLoadEvent(func) {
  	var oldonload = window.onload;
  	if(typeof window.onload != 'function') {
  		window.onload = func;
  	} else {
  		window.onload = function() {
  			oldonload();
  			func();
  		}
  	}
  }
addLoadEvent(prepareGallery);
  function prepareGallery() {
  	if(!document.getElementsByTagName) return false;
  	if(!document.getElementById) return false;
  	if(!document.getElementById("imagegallery")) return false;
  	var gallery = document.getElementById("imagegallery") ;
  	var links = gallery.getElementsByTagName("a");
  	for( var i = 0; i < links.length; i++) {
  		links[i].onclick = function() {
  			return !showPic2(this);
  		}
  	}
  }

  function showPic2(whichpic) {
  	if(!document.getElementById("placeholder")) return false;
  	var source = whichpic.getAttribute("href");
  	var placeholder = document.getElementById("placeholder");
  	if(placeholder.nodeName != "IMG") return false;
  	placeholder.setAttribute("src", source);
  	if(document.getElementById("description")) {
  		var text = whichpic.getAttribute("title") ? whichpic.getAttribute("title") : "";
  		var description = document.getElementById("description");
  		if(description.firstChild.nodeType == 3) {
  			description.firstChild.nodeValue = text;
  		}
  	}
  	return true;
  }

</script>

</html>